import{a as t}from"./api-tK1gIUgM.js";import{h as d,e as i}from"./index-C7_-OQ5S.js";import{u as n}from"./PetPerdidoStore-FtSHxRxV.js";const u=d("petPerdidoService",()=>{const a=n(),o=i(!1),s=async()=>{try{const r=await t.get("perdidos/");return a.propriedades=r.data,console.log(r.data),r.data}catch(r){o.value=!0,console.log(r.response)}};return{error:o,getPerdidos:s,postPerdidos:async r=>{try{(await t.post("perdidos/",r)).data&&(alert("Pet perdido cadastrado!"),s()),window.location.href="/procura-se"}catch(e){e.response&&e.response.data?typeof e.response.data=="string"?alert(e.response.data):e.response.data.detail?alert(e.response.data.detail):alert("Erro de validação: "+JSON.stringify(e.response.data)):alert("Erro no cadastro. Verifique sua conexão."),console.log(e)}}}});export{u};
